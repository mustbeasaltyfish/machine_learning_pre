<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Machine Learning Report: SimCLR & VAE (Exp Data)</title>
    <link rel="stylesheet" href="presentation.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>

    <div class="controls">
        <button id="btn-prev" class="nav-btn" aria-label="Previous Slide">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M15 18l-6-6 6-6"/>
            </svg>
        </button>
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        <button id="btn-next" class="nav-btn" aria-label="Next Slide">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 18l6-6-6-6"/>
            </svg>
        </button>
        <button id="btn-autoplay" class="nav-btn" aria-label="Toggle Autoplay">
            <svg id="icon-play" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="display:none;">
                <polygon points="5 3 19 12 5 21 5 3"></polygon>
            </svg>
             <svg id="icon-pause" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <rect x="6" y="4" width="4" height="16"></rect>
                <rect x="14" y="4" width="4" height="16"></rect>
            </svg>
        </button>
    </div>

    <div class="slides-container" id="slides-container">

        <!-- Slide 1: Experiment Overview -->
        <div class="slide active" data-type="title">
            <div class="slide-content center">
                <div class="badge animate-reveal">EXPERIMENT OVERVIEW</div>
                <h1 style="margin-top: 20px;" class="animate-reveal">机器学习实验汇报：<br>特征提取与模型生成</h1>
                <p class="hero-desc animate-fade-up">基于 MindSpore 框架的 SimCLR 与 VAE 算法复现</p>
                
                <div class="title-info-grid animate-fade-up">
                    <div class="info-item"><span class="label">Task 1</span><span class="value">SimCLR 自监督学习</span></div>
                    <div class="info-item"><span class="label">Task 2</span><span class="value">VAE 变分自编码器</span></div>
                    <div class="info-item"><span class="label">Framework</span><span class="value">MindSpore 2.2.0</span></div>
                    <div class="info-item"><span class="label">Hardware</span><span class="value">Ascend 910 Pro</span></div>
                </div>

            </div>
        </div>

        <!-- Divider: Section 02 -->
        <div class="slide" data-type="divider">
            <div class="slide-content section-break">
                <div class="break-inner">
                    <div class="break-label">SECTION 02</div>
                    <h1 class="divider-title">关键模型架构</h1>
                    <p class="divider-subtitle">Key Model Architecture</p>
                </div>
            </div>
        </div>

        <!-- Slide 2: Architecture Overview -->
        <div class="slide" data-type="overview">
            <div class="slide-content">
                <div class="badge">SECTION 02</div>
                <h2>关键模型架构：双模型并行</h2>
                <p class="slide-subtitle">基于 CIFAR-10 的 SimCLR 自监督表征 + VAE 生成建模（MindSpore 复现）</p>

                <div class="dual-card-grid">
                    <div class="arch-card arch-simclr" style="--offset: -100px; --delay: 0.1s;">
                        <div class="arch-header">
                            <span class="arch-chip simclr">SimCLR</span>
                            <span class="arch-tag">Task 1</span>
                        </div>
                        <p class="arch-desc">对比学习强调视图不变性，学习稳定的语义表征。</p>
                        <div class="arch-rows">
                            <div class="arch-row"><span class="arch-label">Encoder</span><span class="arch-value">ResNet + GroupNorm</span></div>
                            <div class="arch-row"><span class="arch-label">Projection</span><span class="arch-value">2-layer MLP</span></div>
                            <div class="arch-row"><span class="arch-label">Loss</span><span class="arch-value">NT-Xent</span></div>
                        </div>
                        <div class="arch-flow">
                            <span class="flow-pill">Input</span>
                            <span class="flow-arrow">→</span>
                            <span class="flow-pill">Augment</span>
                            <span class="flow-arrow">→</span>
                            <span class="flow-pill">Encoder</span>
                            <span class="flow-arrow">→</span>
                            <span class="flow-pill">Projection</span>
                        </div>
                    </div>
                    <div class="arch-card arch-vae" style="--offset: 100px; --delay: 0.2s;">
                        <div class="arch-header">
                            <span class="arch-chip vae">VAE</span>
                            <span class="arch-tag">Task 2</span>
                        </div>
                        <p class="arch-desc">潜在空间采样生成，重构损失与 KL 散度共同约束。</p>
                        <div class="arch-rows">
                            <div class="arch-row"><span class="arch-label">Encoder</span><span class="arch-value">Conv + BatchNorm</span></div>
                            <div class="arch-row"><span class="arch-label">Latent</span><span class="arch-value">Reparameterize</span></div>
                            <div class="arch-row"><span class="arch-label">Decoder</span><span class="arch-value">ConvTranspose</span></div>
                        </div>
                        <div class="arch-flow">
                            <span class="flow-pill">Encode</span>
                            <span class="flow-arrow">→</span>
                            <span class="flow-pill">&mu;, &sigma;</span>
                            <span class="flow-arrow">→</span>
                            <span class="flow-pill">Sample z</span>
                            <span class="flow-arrow">→</span>
                            <span class="flow-pill">Decode</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 3: SimCLR Encoder -->
        <div class="slide" data-type="code">
            <div class="slide-content split-layout">
                <div class="text-col">
                    <div class="badge">SimCLR Encoder</div>
                    <h2>适配小 Batch 的 GroupNorm</h2>
                    <p class="slide-subtitle">CIFAR-10 训练 BatchSize=32，GroupNorm 让归一化不依赖 batch 统计。</p>
                    <ul class="checklist">
                        <li><b>稳定性:</b> 小 batch 下均值/方差更平稳。</li>
                        <li><b>泛化:</b> 组内统计减少噪声放大。</li>
                        <li><b>配置:</b> 64 通道分 8 组。</li>
                    </ul>
                </div>
                <div class="code-col">
                    <div class="code-card">
                        <div class="code-header">
                            <span class="code-file">simclr_encoder.py</span>
                            <span class="code-meta">GroupNorm(8, 64)</span>
                        </div>
                        <div class="code-body">
                            <div class="code-line" style="--delay: 0.1s;"><span class="code-accent">class</span> CNNEncoder(nn.Cell):</div>
                            <div class="code-line" style="--delay: 0.2s;"><span class="code-indent"></span><span class="code-accent">def</span> __init__(self, out_dim=256):</div>
                            <div class="code-line" style="--delay: 0.3s;"><span class="code-indent"></span><span class="code-indent"></span>self.features = nn.SequentialCell([</div>
                            <div class="code-line" style="--delay: 0.4s;"><span class="code-indent"></span><span class="code-indent"></span><span class="code-indent"></span>nn.Conv2d(3, 64, kernel_size=3, padding=1),</div>
                            <div class="code-line" style="--delay: 0.5s;"><span class="code-indent"></span><span class="code-indent"></span><span class="code-indent"></span><span class="code-highlight">nn.GroupNorm(8, 64)</span>,</div>
                            <div class="code-line" style="--delay: 0.6s;"><span class="code-indent"></span><span class="code-indent"></span><span class="code-indent"></span>nn.ReLU(),</div>
                            <div class="code-line code-dim" style="--delay: 0.7s;"><span class="code-indent"></span><span class="code-indent"></span><span class="code-indent"></span># ... 后续下采样层 ...</div>
                            <div class="code-line" style="--delay: 0.8s;"><span class="code-indent"></span><span class="code-indent"></span>])</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 4: SimCLR Projection Head -->
        <div class="slide" data-type="code">
            <div class="slide-content split-layout">
                <div class="text-col">
                    <div class="badge">SimCLR Projection</div>
                    <h2>投影头：特征空间的非线性转换</h2>
                    <p class="slide-subtitle">两层 MLP 将语义特征映射到紧凑嵌入空间，提升对比鲁棒性。</p>
                    <ul class="checklist">
                        <li><b>输入维度:</b> 256 维编码表征。</li>
                        <li><b>归一化:</b> LayerNorm 稳定嵌入尺度。</li>
                        <li><b>输出维度:</b> 128 维对比空间。</li>
                    </ul>
                </div>
                <div class="code-col">
                    <div class="code-card">
                        <div class="code-header">
                            <span class="code-file">simclr_projection.py</span>
                            <span class="code-meta">MLP + LayerNorm</span>
                        </div>
                        <div class="code-body">
                            <div class="code-line" style="--delay: 0.1s;"><span class="code-accent">class</span> <span class="code-accent">ProjectionHead</span>(nn.Cell):</div>
                            <div class="code-line" style="--delay: 0.2s;"><span class="code-indent"></span><span class="code-accent">def</span> __init__(self, in_dim, proj_dim=128):</div>
                            <div class="code-line" style="--delay: 0.3s;"><span class="code-indent"></span><span class="code-indent"></span>self.net = nn.SequentialCell([</div>
                            <div class="code-line" style="--delay: 0.4s;"><span class="code-indent"></span><span class="code-indent"></span><span class="code-indent"></span>nn.Dense(in_dim, in_dim),</div>
                            <div class="code-line" style="--delay: 0.5s;"><span class="code-indent"></span><span class="code-indent"></span><span class="code-indent"></span><span class="code-underline">nn.LayerNorm((in_dim,))</span>,</div>
                            <div class="code-line" style="--delay: 0.6s;"><span class="code-indent"></span><span class="code-indent"></span><span class="code-indent"></span>nn.ReLU(),</div>
                            <div class="code-line" style="--delay: 0.7s;"><span class="code-indent"></span><span class="code-indent"></span><span class="code-indent"></span>nn.Dense(in_dim, proj_dim)</div>
                            <div class="code-line" style="--delay: 0.8s;"><span class="code-indent"></span><span class="code-indent"></span>])</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 5: VAE Reparameterization -->
        <div class="slide" data-type="analysis">
            <div class="slide-content">
                <div class="badge">VAE Core</div>
                <h2>重参数化：让采样可微</h2>
                <p class="slide-subtitle">通过噪声分离，使梯度绕过随机采样并回传到 Encoder。</p>

                <div class="analysis-grid">
                    <div class="formula-card" style="--delay: 0.1s;">
                        <div class="formula-title">数学表达</div>
                        <div class="formula-body">
                            \[ z = \mu + \sigma \odot \epsilon \]
                        </div>
                        <p class="formula-note">将随机性放在 \(\epsilon\) 上，保证 \(\mu, \sigma\) 可微。</p>
                    </div>
                    <div class="code-card" style="--delay: 0.2s;">
                        <div class="code-header">
                            <span class="code-file">vae_reparam.py</span>
                            <span class="code-meta">Reparameterize</span>
                        </div>
                        <div class="code-body">
                            <div class="code-line" style="--delay: 0.2s;"><span class="code-accent">def</span> reparameterize(self, mu, logvar):</div>
                            <div class="code-line" style="--delay: 0.3s;"><span class="code-indent"></span>std = ops.exp(0.5 * logvar)</div>
                            <div class="code-line" style="--delay: 0.4s;"><span class="code-indent"></span>eps = ops.<span class="code-focus">standard_normal</span>(mu.shape)</div>
                            <div class="code-line" style="--delay: 0.5s;"><span class="code-indent"></span><span class="code-pop">z = mu + eps * std</span></div>
                            <div class="code-line" style="--delay: 0.6s;"><span class="code-indent"></span>return z</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Divider: Section 03 -->
        <div class="slide" data-type="divider">
            <div class="slide-content section-break">
                <div class="break-inner">
                    <div class="break-label">SECTION 03</div>
                    <h1 class="divider-title">优化算法与损失函数</h1>
                    <p class="divider-subtitle">Optimization & Loss</p>
                </div>
            </div>
        </div>

        <!-- Slide 6: Strong Augmentation -->
        <div class="slide" data-type="code">
            <div class="slide-content split-layout">
                <div class="text-col">
                    <div class="badge">SECTION 03</div>
                    <h2>SimCLR 优化：强数据增强</h2>
                    <p class="slide-subtitle">随机裁剪、翻转与颜色抖动构造困难正样本对，逼迫模型关注结构。</p>
                    <ul class="checklist">
                        <li><b>RandomResizedCrop:</b> 强化局部视角。</li>
                        <li><b>Flip & Jitter:</b> 弱化颜色偏置。</li>
                        <li><b>Normalize:</b> 统一数值尺度。</li>
                    </ul>
                    <div class="augmentation-chips">
                        <span class="aug-chip">Crop</span>
                        <span class="aug-chip">Flip</span>
                        <span class="aug-chip">Brightness</span>
                        <span class="aug-chip">Normalize</span>
                    </div>
                </div>
                <div class="code-col">
                    <div class="code-card flicker" style="--delay: 0.1s;">
                        <div class="code-header">
                            <span class="code-file">data_augmentation.py</span>
                            <span class="code-meta">Strong Augment</span>
                        </div>
                        <div class="code-body">
                            <div class="code-line" style="--delay: 0.1s;"><span class="code-accent">def</span> simclr_augment(image):</div>
                            <div class="code-line code-dim" style="--delay: 0.2s;"><span class="code-indent"></span># 组合多种强增强策略</div>
                            <div class="code-line" style="--delay: 0.3s;"><span class="code-indent"></span>img = <span class="code-highlight">random_resized_crop</span>(img)</div>
                            <div class="code-line" style="--delay: 0.4s;"><span class="code-indent"></span><span class="code-accent">if</span> random.random() &lt; 0.5:</div>
                            <div class="code-line" style="--delay: 0.5s;"><span class="code-indent"></span><span class="code-indent"></span>img = img.transpose(Image.FLIP_LEFT_RIGHT)</div>
                            <div class="code-line" style="--delay: 0.6s;"><span class="code-indent"></span><span class="code-accent">if</span> random.random() &lt; 0.8:</div>
                            <div class="code-line code-dim" style="--delay: 0.7s;"><span class="code-indent"></span><span class="code-indent"></span># 颜色抖动：亮度、对比度、饱和度</div>
                            <div class="code-line" style="--delay: 0.8s;"><span class="code-indent"></span><span class="code-indent"></span>img = <span class="code-underline">ImageEnhance.Brightness</span>(img).enhance(random.uniform(0.6, 1.4))</div>
                            <div class="code-line" style="--delay: 0.9s;"><span class="code-indent"></span><span class="code-accent">return</span> normalize(np.array(img))</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 7: NT-Xent Loss -->
        <div class="slide" data-type="analysis">
            <div class="slide-content split-layout">
                <div class="text-col">
                    <div class="badge">NT-Xent</div>
                    <h2>对比损失：屏蔽自相似项</h2>
                    <p class="slide-subtitle">2N 样本相似度矩阵中，对角线用极大负值遮盖，避免模型“偷懒”。</p>
                    <div class="matrix-card" style="--delay: 0.2s;">
                        <div class="matrix-header">Similarity Matrix (2N × 2N)</div>
                        <div class="matrix-grid">
                            <span class="matrix-cell diag"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell diag"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell diag"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell diag"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell diag"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell"></span>
                            <span class="matrix-cell diag"></span>
                        </div>
                        <div class="matrix-legend">
                            <span class="legend-chip diag">Masked Diagonal</span>
                            <span class="legend-chip">Positive/Negative Pairs</span>
                        </div>
                    </div>
                </div>
                <div class="code-col">
                    <div class="code-card" style="--delay: 0.1s;">
                        <div class="code-header">
                            <span class="code-file">nt_xent_logic.py</span>
                            <span class="code-meta">Contrastive Loss</span>
                        </div>
                        <div class="code-body">
                            <div class="code-line" style="--delay: 0.1s;"><span class="code-accent">def</span> nt_xent_loss(z1, z2, temperature=0.5):</div>
                            <div class="code-line code-dim" style="--delay: 0.2s;"><span class="code-indent"></span># 计算余弦相似度矩阵</div>
                            <div class="code-line" style="--delay: 0.3s;"><span class="code-indent"></span>similarity = ops.matmul(z, z.T) / temperature</div>
                            <div class="code-line code-dim" style="--delay: 0.4s;"><span class="code-indent"></span># 屏蔽对角线（自相似项）</div>
                            <div class="code-line" style="--delay: 0.5s;"><span class="code-indent"></span>logits = <span class="code-highlight">similarity - 1e9 * ops.eye(2 * batch_size)</span></div>
                            <div class="code-line code-dim" style="--delay: 0.6s;"><span class="code-indent"></span># 计算交叉熵，最大化正样本对相似度</div>
                            <div class="code-line" style="--delay: 0.7s;"><span class="code-indent"></span><span class="code-block-highlight">loss = -ops.log(ops.exp(pos / temperature) / denom)</span></div>
                            <div class="code-line" style="--delay: 0.8s;"><span class="code-indent"></span><span class="code-accent">return</span> ops.mean(loss)</div>
                        </div>
                        <div class="code-note">Masking Self-Similarity prevents trivial collapse.</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 8: KL Annealing -->
        <div class="slide" data-type="analysis">
            <div class="slide-content">
                <div class="badge">VAE Optimization</div>
                <h2>KL Annealing：逐步加权 KL 散度</h2>
                <p class="slide-subtitle">Warmup 让模型先学会重构，再逐步收紧潜在分布。</p>

                <div class="analysis-grid">
                    <div class="formula-card gradient" style="--delay: 0.1s;">
                        <div class="formula-title">Beta Schedule</div>
                        <div class="formula-body">
                            \[ \beta = \beta_{min} + (\beta_{max} - \beta_{min}) \cdot \text{ramp} \]
                        </div>
                        <p class="formula-note">线性 warmup 防止 encoder 早期塌陷。</p>
                    </div>
                    <div class="code-card" style="--delay: 0.2s;">
                        <div class="code-header">
                            <span class="code-file">kl_annealing.py</span>
                            <span class="code-meta">Beta Ramp</span>
                        </div>
                        <div class="code-body">
                            <div class="code-line code-dim" style="--delay: 0.2s;"># 训练循环中的 Beta 调度 (KL Annealing)</div>
                            <div class="code-line" style="--delay: 0.3s;">progress = global_step / max(1, total_steps - 1)</div>
                            <div class="code-line code-dim" style="--delay: 0.4s;"># 线性增加 KL 散度的权重，防止训练初期塌陷</div>
                            <div class="code-line" style="--delay: 0.5s;"><span class="code-focus">ramp</span> = progress * (1 / WARMUP_RATIO) if progress &lt; WARMUP_RATIO else 1.0</div>
                            <div class="code-line" style="--delay: 0.6s;"><span class="code-click">beta = MIN_BETA + (MAX_BETA - MIN_BETA) * ramp</span></div>
                            <div class="code-line" style="--delay: 0.7s;">total_loss = recon_loss + beta * kl_loss</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Divider: Section 04-1 -->
        <div class="slide" data-type="divider">
            <div class="slide-content section-break">
                <div class="break-inner">
                    <div class="break-label">SECTION 04-1</div>
                    <h1 class="divider-title">SimCLR 实验结果对比</h1>
                    <p class="divider-subtitle">Results & Comparison</p>
                </div>
            </div>
        </div>

        <!-- Slide 9: Lab4-1 Overview -->
        <div class="slide" data-type="analysis">
            <div class="slide-content split-layout">
                <div class="text-col">
                    <div class="badge">SECTION 04-1</div>
                    <h2>SimCLR 对比实验概览</h2>
                    <p class="slide-subtitle">基于 CIFAR-10 的参数对比与表现分析（MindSpore 复现）。</p>
                    <ul class="checklist">
                        <li><b>数据量:</b> 1k to 5k</li>
                        <li><b>训练轮数:</b> 50 to 100</li>
                        <li><b>温度系数:</b> tau = 0.5 / 0.1 / 0.07</li>
                        <li><b>下游评估:</b> 线性分类检验表征质量</li>
                    </ul>
                </div>
                <div class="text-col">
                    <div class="table-card">
                        <div class="table-title">实验配置与最终 Loss（来自 ipynb 日志）</div>
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Experiment</th>
                                    <th>Samples</th>
                                    <th>Epochs</th>
                                    <th>tau</th>
                                    <th>Final Loss</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Baseline</td>
                                    <td>1k</td>
                                    <td>50</td>
                                    <td>0.5</td>
                                    <td>2.7467</td>
                                </tr>
                                <tr>
                                    <td>Data +5x</td>
                                    <td>5k</td>
                                    <td>50</td>
                                    <td>0.5</td>
                                    <td>2.5763</td>
                                </tr>
                                <tr>
                                    <td>Epoch +2x</td>
                                    <td>1k</td>
                                    <td>100</td>
                                    <td>0.5</td>
                                    <td>2.6046</td>
                                </tr>
                                <tr>
                                    <td>Temp 0.1</td>
                                    <td>1k</td>
                                    <td>50</td>
                                    <td>0.1</td>
                                    <td>0.4654</td>
                                </tr>
                                <tr class="row-highlight">
                                    <td>Temp 0.07</td>
                                    <td>1k</td>
                                    <td>50</td>
                                    <td>0.07</td>
                                    <td>0.4046</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="table-note">所有 Loss 数值来自对应 ipynb 的训练日志。</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 10: Augmentation Comparison -->
        <div class="slide" data-type="analysis">
            <div class="slide-content">
                <div class="badge">Lab4-1 Comparison</div>
                <h2>增强视角对比</h2>
                <p class="slide-subtitle">不同参数下的增强结果（ipynb 输出）。</p>
                <div class="compare-grid">
                    <div class="compare-card" style="--delay: 0.1s;">
                        <div class="compare-tag">Baseline (1k, tau=0.5)</div>
                        <img class="compare-img zoomable" data-zoomable src="section/04_Results_Analysis_Visualization/lab4-1_SimCLR/images/compare/augmentation_baseline.png" alt="Augmentation Baseline">
                    </div>
                    <div class="compare-card" style="--delay: 0.2s;">
                        <div class="compare-tag">Data 5k (tau=0.5)</div>
                        <img class="compare-img zoomable" data-zoomable src="section/04_Results_Analysis_Visualization/lab4-1_SimCLR/images/compare/augmentation_data_5k.png" alt="Augmentation Data 5k">
                    </div>
                    <div class="compare-card" style="--delay: 0.3s;">
                        <div class="compare-tag">Temp 0.1</div>
                        <img class="compare-img zoomable" data-zoomable src="section/04_Results_Analysis_Visualization/lab4-1_SimCLR/images/compare/augmentation_temp_0_1.png" alt="Augmentation Temp 0.1">
                    </div>
                    <div class="compare-card" style="--delay: 0.4s;">
                        <div class="compare-tag">Temp 0.07</div>
                        <img class="compare-img zoomable" data-zoomable src="section/04_Results_Analysis_Visualization/lab4-1_SimCLR/images/compare/augmentation_temp_0_07.png" alt="Augmentation Temp 0.07">
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 11: Similarity Comparison -->
        <div class="slide" data-type="analysis">
            <div class="slide-content">
                <div class="badge">Lab4-1 Comparison</div>
                <h2>相似度分布对比</h2>
                <p class="slide-subtitle">不同参数下的正负样本相似度分布（ipynb 输出）。</p>
                <div class="compare-grid">
                    <div class="compare-card" style="--delay: 0.1s;">
                        <div class="compare-tag">Baseline (1k, tau=0.5)</div>
                        <img class="compare-img zoomable" data-zoomable src="section/04_Results_Analysis_Visualization/lab4-1_SimCLR/images/compare/similarity_baseline.png" alt="Similarity Baseline">
                    </div>
                    <div class="compare-card" style="--delay: 0.2s;">
                        <div class="compare-tag">Data 5k (tau=0.5)</div>
                        <img class="compare-img zoomable" data-zoomable src="section/04_Results_Analysis_Visualization/lab4-1_SimCLR/images/compare/similarity_data_5k.png" alt="Similarity Data 5k">
                    </div>
                    <div class="compare-card" style="--delay: 0.3s;">
                        <div class="compare-tag">Temp 0.1</div>
                        <img class="compare-img zoomable" data-zoomable src="section/04_Results_Analysis_Visualization/lab4-1_SimCLR/images/compare/similarity_temp_0_1.png" alt="Similarity Temp 0.1">
                    </div>
                    <div class="compare-card" style="--delay: 0.4s;">
                        <div class="compare-tag">Temp 0.07</div>
                        <img class="compare-img zoomable" data-zoomable src="section/04_Results_Analysis_Visualization/lab4-1_SimCLR/images/compare/similarity_temp_0_07.png" alt="Similarity Temp 0.07">
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 12: Loss Curve Comparison -->
        <div class="slide" data-type="analysis">
            <div class="slide-content">
                <div class="badge">Loss Curves</div>
                <h2>不同参数的收敛对比</h2>
                <p class="slide-subtitle">曲线数据严格来自各实验 ipynb 训练日志（Epoch 1-50）。</p>
                <div class="loss-chart-card zoomable" data-zoomable>
                    <svg class="loss-chart" viewBox="0 0 760 340" aria-label="Loss curve comparison">
                        <line class="loss-axis" x1="70" y1="30" x2="70" y2="280"></line>
                        <line class="loss-axis" x1="70" y1="280" x2="730" y2="280"></line>
                        <line class="loss-grid" x1="70" y1="30" x2="730" y2="30"></line>
                        <line class="loss-grid" x1="70" y1="69.5" x2="730" y2="69.5"></line>
                        <line class="loss-grid" x1="70" y1="122.1" x2="730" y2="122.1"></line>
                        <line class="loss-grid" x1="70" y1="174.7" x2="730" y2="174.7"></line>
                        <line class="loss-grid" x1="70" y1="227.4" x2="730" y2="227.4"></line>
                        <line class="loss-grid" x1="70" y1="280" x2="730" y2="280"></line>

                        <text class="loss-axis-text" x="52" y="33">4.2</text>
                        <text class="loss-axis-text" x="52" y="72">3.6</text>
                        <text class="loss-axis-text" x="52" y="125">2.8</text>
                        <text class="loss-axis-text" x="52" y="177">2.0</text>
                        <text class="loss-axis-text" x="52" y="230">1.2</text>
                        <text class="loss-axis-text" x="52" y="283">0.4</text>

                        <text class="loss-axis-text" x="70" y="305">1</text>
                        <text class="loss-axis-text" x="191.2" y="305">10</text>
                        <text class="loss-axis-text" x="325.9" y="305">20</text>
                        <text class="loss-axis-text" x="460.6" y="305">30</text>
                        <text class="loss-axis-text" x="595.3" y="305">40</text>
                        <text class="loss-axis-text" x="730" y="305">50</text>

                        <text class="loss-axis-label" x="380" y="330">Epoch</text>
                        <text class="loss-axis-label" x="20" y="170" transform="rotate(-90 20 170)">Loss</text>

                        <path class="loss-line line-baseline" d="M 70.0,34.6 L 123.9,63.9 L 191.2,88.6 L 258.6,99.5 L 325.9,104.8 L 393.3,109.0 L 460.6,114.1 L 528.0,118.5 L 595.3,121.4 L 662.7,123.2 L 730.0,125.6"></path>
                        <path class="loss-line line-data" d="M 70.0,69.1 L 123.9,113.4 L 191.2,123.0 L 258.6,127.5 L 325.9,129.4 L 393.3,131.6 L 460.6,132.3 L 528.0,134.0 L 595.3,134.9 L 662.7,135.6 L 730.0,136.8"></path>
                        <path class="loss-line line-temp01" d="M 70.0,45.0 L 123.9,84.5 L 191.2,140.4 L 258.6,193.7 L 325.9,229.3 L 393.3,236.8 L 460.6,248.2 L 528.0,256.9 L 595.3,259.7 L 662.7,271.0 L 730.0,275.7"></path>
                        <path class="loss-line line-temp007" d="M 70.0,45.4 L 123.9,65.5 L 191.2,132.8 L 258.6,188.7 L 325.9,205.1 L 393.3,237.6 L 460.6,255.4 L 528.0,257.4 L 595.3,264.4 L 662.7,268.1 L 730.0,279.7"></path>

                        <circle class="loss-point line-baseline" cx="730" cy="125.6" r="4"></circle>
                        <circle class="loss-point line-data" cx="730" cy="136.8" r="4"></circle>
                        <circle class="loss-point line-temp01" cx="730" cy="275.7" r="4"></circle>
                        <circle class="loss-point line-temp007" cx="730" cy="279.7" r="4"></circle>
                    </svg>
                    <div class="chart-legend">
                        <div class="legend-item"><span class="legend-dot line-baseline"></span>Baseline (1k, tau=0.5)</div>
                        <div class="legend-item"><span class="legend-dot line-data"></span>Data 5k (tau=0.5)</div>
                        <div class="legend-item"><span class="legend-dot line-temp01"></span>Temp 0.1</div>
                        <div class="legend-item"><span class="legend-dot line-temp007"></span>Temp 0.07</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 13: t-SNE Comparison & Linear Eval -->
        <div class="slide" data-type="analysis">
            <div class="slide-content split-layout">
                <div class="text-col">
                    <div class="badge">Representation</div>
                    <h2>t-SNE 表征分布对比</h2>
                    <p class="slide-subtitle">不同参数下的潜在特征分布（ipynb 输出）。</p>
                    <div class="metric-card">
                        <div class="metric-label">Linear Evaluation Accuracy</div>
                        <div class="metric-value">37.5%</div>
                        <div class="metric-note">LogisticRegression on CIFAR-10</div>
                    </div>
                </div>
                <div class="text-col">
                    <div class="compare-grid two-col">
                        <div class="compare-card" style="--delay: 0.1s;">
                            <div class="compare-tag">Baseline (1k, tau=0.5)</div>
                            <img class="compare-img large zoomable" data-zoomable src="section/04_Results_Analysis_Visualization/lab4-1_SimCLR/images/compare/tsne_baseline.png" alt="t-SNE Baseline">
                        </div>
                        <div class="compare-card" style="--delay: 0.2s;">
                            <div class="compare-tag">Data 5k (tau=0.5)</div>
                            <img class="compare-img large zoomable" data-zoomable src="section/04_Results_Analysis_Visualization/lab4-1_SimCLR/images/compare/tsne_data_5k.png" alt="t-SNE Data 5k">
                        </div>
                        <div class="compare-card" style="--delay: 0.3s;">
                            <div class="compare-tag">Temp 0.1</div>
                            <img class="compare-img large zoomable" data-zoomable src="section/04_Results_Analysis_Visualization/lab4-1_SimCLR/images/compare/tsne_temp_0_1.png" alt="t-SNE Temp 0.1">
                        </div>
                        <div class="compare-card" style="--delay: 0.4s;">
                            <div class="compare-tag">Temp 0.07</div>
                            <img class="compare-img large zoomable" data-zoomable src="section/04_Results_Analysis_Visualization/lab4-1_SimCLR/images/compare/tsne_temp_0_07.png" alt="t-SNE Temp 0.07">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 14: Lab4-1 Conclusion -->
        <div class="slide" data-type="summary">
            <div class="slide-content center">
                <div class="badge">Conclusion</div>
                <h2>Lab4-1 结果结论</h2>
                <div class="checklist-card">
                    <div class="check-item">
                        <div class="check-icon">✓</div>
                        <div class="check-text"><b>Temperature:</b> tau 从 0.5 降到 0.07 带来最大 Loss 改善。</div>
                    </div>
                    <div class="check-item">
                        <div class="check-icon">✓</div>
                        <div class="check-text"><b>Data & Epoch:</b> 数据量与训练轮数提升可稳定降低 Loss，但边际收益递减。</div>
                    </div>
                    <div class="check-item">
                        <div class="check-icon">✓</div>
                        <div class="check-text"><b>Representation:</b> 线性评估准确率 37.5% 证明自监督特征有效。</div>
                    </div>
                    <div class="check-item future">
                        <div class="check-icon">→</div>
                        <div class="check-text"><b>Future:</b> 尝试更深编码器与更大 batch，进一步提升表征质量。</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Divider: Section 04-2 -->
        <div class="slide" data-type="divider">
            <div class="slide-content section-break">
                <div class="break-inner">
                    <div class="break-label">SECTION 04-2</div>
                    <h1 class="divider-title">VAE 实验结果与可视化</h1>
                    <p class="divider-subtitle">VAE Results & Visualization</p>
                </div>
            </div>
        </div>

        <!-- Slide 14: Lab4-2 Overview -->
        <div class="slide" data-type="analysis">
            <div class="slide-content">
                <div class="badge">SECTION 04-2</div>
                <h2>VAE 实验结果概览</h2>
                <p class="slide-subtitle">基于 CIFAR-10 的 VAE 复现，包含 KL Annealing 与多视角可视化结果。</p>
                <div class="overview-grid">
                    <div class="overview-card" style="--delay: 0.1s;">
                        <div class="overview-title">Loss Curves</div>
                        <p>3 子图展示 total / recon / KL 的训练轨迹。</p>
                    </div>
                    <div class="overview-card" style="--delay: 0.2s;">
                        <div class="overview-title">Reconstruction</div>
                        <p>输入与重构图对比，观察轮廓与纹理保真。</p>
                    </div>
                    <div class="overview-card" style="--delay: 0.3s;">
                        <div class="overview-title">Generation</div>
                        <p>从潜在空间采样生成，展示多样性与结构。</p>
                    </div>
                    <div class="overview-card" style="--delay: 0.4s;">
                        <div class="overview-title">Latent t-SNE</div>
                        <p>潜在空间降维分布，评估表征可分性。</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 15: VAE Loss Curves -->
        <div class="slide" data-type="analysis">
            <div class="slide-content">
                <div class="badge">VAE Training</div>
                <h2>损失曲线可视化</h2>
                <p class="slide-subtitle">ipynb 输出的 3 子图曲线（total / recon / KL）。</p>
                <div class="image-frame">
                    <div class="image-reveal">
                        <img class="media-img" src="section/04_Results_Analysis_Visualization/lab4-2_VAE/images/vae_loss.png" alt="VAE Loss Curves">
                    </div>
                    <div class="media-caption">Loss Curves from lab4-2_merged.ipynb</div>
                </div>
            </div>
        </div>

        <!-- Slide 16: Reconstruction & Generation -->
        <div class="slide" data-type="analysis">
            <div class="slide-content">
                <div class="badge">VAE Outputs</div>
                <h2>重构与生成结果</h2>
                <p class="slide-subtitle">模型在 CIFAR-10 上的重构质量与采样生成。</p>
                <div class="media-grid">
                    <div class="media-card" style="--delay: 0.1s;">
                        <img class="media-img" src="section/04_Results_Analysis_Visualization/lab4-2_VAE/images/vae_recon.png" alt="VAE Reconstruction">
                        <div class="media-caption">Reconstruction Comparison</div>
                    </div>
                    <div class="media-card" style="--delay: 0.2s;">
                        <img class="media-img" src="section/04_Results_Analysis_Visualization/lab4-2_VAE/images/vae_gen.png" alt="VAE Generation Samples">
                        <div class="media-caption">Random Generation Samples</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 17: Latent t-SNE -->
        <div class="slide" data-type="analysis">
            <div class="slide-content split-layout">
                <div class="text-col">
                    <div class="badge">Latent Space</div>
                    <h2>潜在空间 t-SNE 分布</h2>
                    <p class="slide-subtitle">从编码器输出的潜在向量降维，观察类别聚类趋势。</p>
                    <ul class="checklist">
                        <li><b>结构:</b> 潜在空间呈现类内聚集。</li>
                        <li><b>分离:</b> 不同类别具备区分边界。</li>
                        <li><b>可视化:</b> 图像来自 ipynb 输出。</li>
                    </ul>
                </div>
                <div class="text-col">
                    <div class="media-card large" style="--delay: 0.2s;">
                        <img class="media-img" src="section/04_Results_Analysis_Visualization/lab4-2_VAE/images/vae_tsne.png" alt="VAE t-SNE Visualization">
                        <div class="media-caption">Latent t-SNE Visualization</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 18: Lab4-2 Conclusion -->
        <div class="slide" data-type="summary">
            <div class="slide-content center">
                <div class="badge">Conclusion</div>
                <h2>Lab4-2 结果结论</h2>
                <div class="checklist-card">
                    <div class="check-item">
                        <div class="check-icon">✓</div>
                        <div class="check-text"><b>Loss:</b> KL Annealing 使训练曲线更平稳，避免早期塌缩。</div>
                    </div>
                    <div class="check-item">
                        <div class="check-icon">✓</div>
                        <div class="check-text"><b>Reconstruction:</b> 能较好保留轮廓与主要结构。</div>
                    </div>
                    <div class="check-item">
                        <div class="check-icon">✓</div>
                        <div class="check-text"><b>Generation:</b> 潜在空间采样具备可视化多样性。</div>
                    </div>
                    <div class="check-item future">
                        <div class="check-icon">→</div>
                        <div class="check-text"><b>Future:</b> 尝试更强解码器与感知损失，提升细节与清晰度。</div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="lightbox" id="lightbox" aria-hidden="true">
        <div class="lightbox-backdrop" data-lightbox-close></div>
        <div class="lightbox-content" role="dialog" aria-modal="true">
            <button class="lightbox-close" data-lightbox-close aria-label="Close">x</button>
            <div class="lightbox-inner"></div>
        </div>
    </div>

    <script src="presentation.js"></script>
</body>
</html>
